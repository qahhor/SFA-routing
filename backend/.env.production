# ==============================================
# SFA-Routing: Production Environment Template
# ==============================================
# ВНИМАНИЕ: Замените все значения YOUR_* на реальные!
# Не коммитьте этот файл с реальными данными!

# ==============================================
# БАЗОВЫЕ НАСТРОЙКИ
# ==============================================
APP_NAME=Route Optimization Service
APP_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# ==============================================
# БАЗА ДАННЫХ (PostgreSQL)
# ==============================================
# Сгенерируйте пароль: openssl rand -base64 32
POSTGRES_USER=routeuser
POSTGRES_PASSWORD=YOUR_STRONG_DB_PASSWORD_32_CHARS
POSTGRES_DB=routes
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# ==============================================
# REDIS
# ==============================================
REDIS_URL=redis://redis:6379

# ==============================================
# БЕЗОПАСНОСТЬ
# ==============================================
# Сгенерируйте: python3 -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=YOUR_64_CHARACTER_SECRET_KEY_HERE_GENERATE_NEW_ONE

# JWT настройки
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256

# ==============================================
# RATE LIMITING
# ==============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT_PER_MINUTE=60
RATE_LIMIT_WINDOW_SECONDS=60

# API тиры
API_CLIENT_DEFAULT_TIER=standard
API_CLIENT_FREE_RATE_LIMIT=10
API_CLIENT_FREE_MAX_POINTS=50
API_CLIENT_FREE_MONTHLY_QUOTA=1000
API_CLIENT_STANDARD_RATE_LIMIT=60
API_CLIENT_STANDARD_MAX_POINTS=200
API_CLIENT_STANDARD_MONTHLY_QUOTA=10000
API_CLIENT_PREMIUM_RATE_LIMIT=300
API_CLIENT_PREMIUM_MAX_POINTS=1000
API_CLIENT_PREMIUM_MONTHLY_QUOTA=100000

# ==============================================
# CORS
# ==============================================
# Укажите домены вашего фронтенда (без trailing slash)
CORS_ORIGINS=["https://app.yourdomain.com","https://admin.yourdomain.com"]

# ==============================================
# ВНЕШНИЕ СЕРВИСЫ
# ==============================================
# OSRM (картографический движок)
OSRM_URL=http://osrm:5000

# VROOM (VRP солвер)
VROOM_URL=http://vroom:3000

# ==============================================
# OBSERVABILITY (опционально)
# ==============================================
# Sentry для отслеживания ошибок
# Получите DSN на https://sentry.io
# SENTRY_DSN=https://your-key@sentry.io/project-id

# Prometheus метрики
METRICS_ENABLED=true
METRICS_PATH=/metrics

# ==============================================
# ERP ИНТЕГРАЦИЯ (опционально)
# ==============================================
# SmartUp ERP
# SMARTUP_API_URL=https://erp.yourcompany.com/api
# SMARTUP_API_TOKEN=your-erp-api-token

# ==============================================
# CELERY (Background Tasks)
# ==============================================
CELERY_BROKER_URL=${REDIS_URL}/0
CELERY_RESULT_BACKEND=${REDIS_URL}/1

# ==============================================
# ПРОВЕРОЧНЫЙ ЧЕКЛИСТ
# ==============================================
# [ ] POSTGRES_PASSWORD изменён с дефолтного
# [ ] SECRET_KEY сгенерирован заново
# [ ] CORS_ORIGINS указывает на реальные домены
# [ ] DEBUG=false
# [ ] LOG_LEVEL=INFO или WARNING
# [ ] SENTRY_DSN настроен (рекомендуется)
