apiVersion: v1
kind: ConfigMap
metadata:
  name: route-optimizer-config
  namespace: route-optimizer
  labels:
    app.kubernetes.io/name: route-optimizer
data:
  # Application
  APP_NAME: "Route Optimization Service"
  APP_VERSION: "1.0.0"
  ENVIRONMENT: "production"
  DEBUG: "false"
  API_V1_PREFIX: "/api/v1"

  # External Services (internal K8s DNS)
  OSRM_URL: "http://osrm-service:5000"
  VROOM_URL: "http://vroom-service:3000"
  REDIS_URL: "redis://redis-service:6379"

  # Database Pool Settings
  DATABASE_POOL_SIZE: "10"
  DATABASE_MAX_OVERFLOW: "20"
  DATABASE_POOL_RECYCLE: "3600"
  DATABASE_POOL_TIMEOUT: "30"
  DATABASE_POOL_PRE_PING: "true"
  DATABASE_STATEMENT_TIMEOUT: "30000"

  # Rate Limiting
  RATE_LIMIT_ENABLED: "true"
  RATE_LIMIT_DEFAULT_PER_MINUTE: "100"

  # Planning defaults
  DEFAULT_WORK_START: "09:00"
  DEFAULT_WORK_END: "18:00"
  DEFAULT_VISIT_DURATION_MINUTES: "15"
  DEFAULT_MAX_VISITS_PER_DAY: "30"

  # Observability
  METRICS_ENABLED: "true"
  METRICS_PATH: "/metrics"

  # CORS (update for your domain)
  CORS_ORIGINS: '["https://app.example.com", "https://admin.example.com"]'
